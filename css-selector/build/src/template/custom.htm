<style>
    .is_textarea {
        width: 100%;
        height: 500px;
        border: 3px solid #cccccc;
        padding: 5px;
        font-family: Hack, "Source Code Pro", Inconsolata, GulimChe, Tahoma, sans-serif;
    }
</style>
<script>
    // TODO: 由 innerHTML 載入的 script, 應該是不會被執行 !!!!

    const runCode = function()
    {
        const sourceCode = document.querySelector(".is_textarea").value;

        // run ES6 javascript code
        // babel.run(sourceCode)

        // run ES5 javascript code
        const run = new Function(sourceCode);
        run();
    };

    (function() {
        //
        document.querySelector(".is_textarea").onkeydown = function (e) {
          if (e.keyCode === 13 && e.ctrlKey) {
                runCode();
                e.preventDefault();
            }
        };
        /*
        // 利用這種方式讓 游標 移至 最後面
        $('textarea.is_textarea').focus();
        var value = $('textarea.is_textarea').val();
        $('textarea.is_textarea').val('');
        $('textarea.is_textarea').val(value);

        $('textarea.is_textarea').click();
        */
    })();
</script>

<p>
<textarea class="is_textarea">console.log("Hello World");
</textarea>
<br />
<!--
  <input type="button" value="Ctrl + Enter to run code" onClick="runCode()" />
-->
<input type="button" value="Ctrl + Enter to run code" onClick="(new Function(document.querySelector('.is_textarea').value))()" />

</p>
